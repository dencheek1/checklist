<div class="wrapper">
  <div [ngClass]="leafClasses()" (mousemove)="hover($event)" (mouseleave)="mouseLeave()" (mouseup)="select($event)">
    @switch(node().type){
      @case (ne.Leaf) {
        <div [attr.contenteditable]="this.node() == this.editNode()" (focusout)="selectEvent($event)" class = 'data' type="text" (keydown.enter)="save($event)" (mouseup)="select($event)" (dblclick)="edit($event)" >{{node().data}}</div>
      }
      @case (ne.Columns){
        <app-document-table-view [node] = "node()"/>
      }
      @case (ne.Checkbox){
        <app-document-checkbox-view [node] = "node()"/>
      }
      @default {
        @if(node().children.length > 0){
          @for (child of node().children; track $index) {
            <app-document-node-view [node]="child"/>
          }
        }
        @else {
          <div class="box"></div>
        }
      }
    }
    @if(node().children.length == 0 || leafClasses()['selected']){<div class="remove--button" [style.opacity]="removeOpacity()" (mouseup)="removeNode($event, node())">rm</div>}
  </div>
</div>